[gd_scene load_steps=13 format=4 uid="uid://cftfiwxxrl0x7"]

[ext_resource type="PackedScene" uid="uid://ddw2g00yqtlmx" path="res://stage/stage_root.tscn" id="1_mrqar"]
[ext_resource type="PackedScene" uid="uid://dvy8ox4sfd5hc" path="res://trigger/visible_trigger.tscn" id="2_ilb8v"]
[ext_resource type="PackedScene" uid="uid://4dnj27cvdryh" path="res://command/dialog/open_dialog_command.tscn" id="2_m3na8"]
[ext_resource type="AudioStream" uid="uid://dm4r6k3lvkfb" path="res://contents/bgm/bgm6.ogg" id="2_pf5qf"]
[ext_resource type="PackedScene" uid="uid://mm6miyrmbjvb" path="res://command/hud/show_hud_message_command.tscn" id="3_1n44n"]
[ext_resource type="PackedScene" uid="uid://mx0jhsu5i4r8" path="res://trigger/collision_trigger.tscn" id="4_jq1hl"]
[ext_resource type="PackedScene" uid="uid://cxafv8tj6dexo" path="res://trigger/timer_trigger.tscn" id="5_2p4nk"]
[ext_resource type="PackedScene" uid="uid://bc4apnsycw1d7" path="res://command/stage/offset_position_command.tscn" id="5_375uw"]
[ext_resource type="PackedScene" uid="uid://basrl1d1ki47q" path="res://command/disable_collision_shape_command.tscn" id="6_noi0u"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_es5s4"]
size = Vector2(634, 26)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_noi0u"]
size = Vector2(26, 954)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m3na8"]
size = Vector2(26, 954)

[node name="Stage" instance=ExtResource("1_mrqar")]
BgmStream = ExtResource("2_pf5qf")

[node name="ColorRect" parent="Background/Parallax2D_1" index="0"]
color = Color(0.117647, 0.392157, 0.784314, 1)

[node name="Ground" parent="TileMap" index="2"]
tile_map_data = PackedByteArray("AAAAAA4AAAAGAAAAAAABAA4AAAAGAAAAAAACAA4AAAAGAAAAAAADAA4AAAAGAAAAAAAEAA4AAAAGAAAAAAAFAA4AAAAGAAAAAAAGAA4AAAAGAAAAAAAHAA4AAAAGAAAAAAAIAA4AAAAGAAAAAAAJAA4AAAAGAAAAAAAKAA4AAAAGAAAAAAALAA4AAAAGAAAAAAAMAA4AAAAGAAAAAAANAA4AAAAGAAAAAAAOAA4AAAAGAAAAAAAPAA4AAAAGAAAAAAAQAA4AAAAGAAAAAAARAA4AAAAGAAAAAAASAA4AAAAGAAAAAAATAA4AAAAGAAAAAAD//w4AAAAGAAAAAAD//w0AAAAGAAAAAAD//wwAAAAGAAAAAAD//wsAAAAGAAAAAAD//woAAAAGAAAAAAD//wkAAAAGAAAAAAD//wgAAAAGAAAAAAD//wcAAAAGAAAAAAD//wYAAAAGAAAAAAD//wUAAAAGAAAAAAD//wQAAAAGAAAAAAD//wMAAAAGAAAAAAD//wIAAAAGAAAAAAD//wEAAAAGAAAAAAD//wAAAAAGAAAAAAAUAAAAAAAGAAAAAAAUAAEAAAAGAAAAAAAUAAIAAAAGAAAAAAAUAAMAAAAGAAAAAAAUAAQAAAAGAAAAAAAUAAUAAAAGAAAAAAAUAAYAAAAGAAAAAAAUAAcAAAAGAAAAAAAUAAgAAAAGAAAAAAAUAAkAAAAGAAAAAAAUAAoAAAAGAAAAAAAUAA0AAAAGAAAAAAAUAA4AAAAGAAAAAAAUAAwAAAAGAAAAAAAUAAsAAAAGAAAAAAD/////AAAGAAAAAAAUAP//AAAGAAAAAAD///7/AAAGAAAAAAD///3/AAAGAAAAAAD///z/AAAGAAAAAAD///v/AAAGAAAAAAD///r/AAAGAAAAAAD///n/AAAGAAAAAAD///j/AAAGAAAAAAD///f/AAAGAAAAAAD///b/AAAGAAAAAAAUAP7/AAAGAAAAAAAUAP3/AAAGAAAAAAAUAPz/AAAGAAAAAAAUAPv/AAAGAAAAAAAUAPr/AAAGAAAAAAAUAPn/AAAGAAAAAAAUAPj/AAAGAAAAAAAUAPf/AAAGAAAAAAAUAPb/AAAGAAAAAAAUAPX/AAAGAAAAAAAUAPT/AAAGAAAAAAD///T/AAAGAAAAAAD///X/AAAGAAAAAAD///D/AAAGAAAAAAD///H/AAAGAAAAAAD///L/AAAGAAAAAAAUAPP/AAAGAAAAAAAUAPL/AAAGAAAAAAAUAPH/AAAGAAAAAAAUAPD/AAAGAAAAAAD///P/AAAGAAAAAAA=")

[node name="Player_1" parent="Spawn" index="0"]
position = Vector2(96, 447)

[node name="Player_2" parent="Spawn" index="1"]
position = Vector2(544, 447)

[node name="Player_3" parent="Spawn" index="2"]
position = Vector2(240, 447)

[node name="Player_4" parent="Spawn" index="3"]
position = Vector2(400, 447)

[node name="Player_5" parent="Spawn" index="4"]
position = Vector2(168, 447)

[node name="Player_6" parent="Spawn" index="5"]
position = Vector2(472, 447)

[node name="Player_7" parent="Spawn" index="6"]
position = Vector2(320, 447)

[node name="Player_1" parent="Respawn" index="0"]
position = Vector2(128, -64)

[node name="Player_2" parent="Respawn" index="1"]
position = Vector2(512, -64)

[node name="Player_3" parent="Respawn" index="2"]
position = Vector2(192, -64)

[node name="Player_4" parent="Respawn" index="3"]
position = Vector2(448, -64)

[node name="Player_5" parent="Respawn" index="4"]
position = Vector2(256, -64)

[node name="Player_6" parent="Respawn" index="5"]
position = Vector2(384, -64)

[node name="Player_7" parent="Respawn" index="6"]
position = Vector2(320, -64)

[node name="OpenDialogCommand" parent="Scenario/Referee/Draw" index="0" instance=ExtResource("2_m3na8")]
DialogPath = "res://screen/game_result_dialog.tscn"
ArgumentKey = "MessageDialog"
Argument = ["なし", Color(1, 1, 1, 1)]

[node name="OpenDialogCommand" parent="Scenario/Referee/Winner" index="0" instance=ExtResource("2_m3na8")]
DialogPath = "res://screen/game_result_dialog.tscn"
ArgumentKey = "MessageDialog"
Argument = ["なし", Color(0, 0, 0, 1)]

[node name="OutsideArea_1" parent="Scenario" index="1"]
position = Vector2(320, 544)
collision_mask = 8

[node name="VisibleTrigger_1" parent="Scenario" index="2" instance=ExtResource("2_ilb8v")]

[node name="ShowHudMessageCommand" parent="Scenario/VisibleTrigger_1" index="0" instance=ExtResource("3_1n44n")]
Text2 = "やっぱり普通が一番さ！"

[node name="PushingArea_1" parent="Scenario" index="3" instance=ExtResource("4_jq1hl")]
position = Vector2(320, 464)
collision_layer = 0
collision_mask = 4

[node name="Timer" type="Timer" parent="Scenario/PushingArea_1" index="0"]
autostart = true

[node name="TimerTrigger" parent="Scenario/PushingArea_1/Timer" index="0" node_paths=PackedStringArray("Target") instance=ExtResource("5_2p4nk")]
Target = NodePath("../../CollisionShape2D")
SwapExecFlag = true

[node name="DisableCollisionShapeCommandOff" parent="Scenario/PushingArea_1/Timer/TimerTrigger" index="0" node_paths=PackedStringArray("Target") instance=ExtResource("6_noi0u")]
Target = NodePath("../../../CollisionShape2D")

[node name="DisableCollisionShapeCommandOn" parent="Scenario/PushingArea_1/Timer/TimerTrigger" index="1" node_paths=PackedStringArray("Target") instance=ExtResource("6_noi0u")]
Target = NodePath("../../../CollisionShape2D")
Value = true
ExecFlag = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scenario/PushingArea_1" index="1"]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_es5s4")

[node name="OffsetPositionCommand" parent="Scenario/PushingArea_1" index="2" instance=ExtResource("5_375uw")]
Value = Vector2(0, -1)

[node name="PushingArea_2" parent="Scenario" index="4" instance=ExtResource("4_jq1hl")]
position = Vector2(-16, -32)
collision_layer = 0
collision_mask = 4

[node name="Timer" type="Timer" parent="Scenario/PushingArea_2" index="0"]
autostart = true

[node name="TimerTrigger" parent="Scenario/PushingArea_2/Timer" index="0" node_paths=PackedStringArray("Target") instance=ExtResource("5_2p4nk")]
Target = NodePath("../../CollisionShape2D")
SwapExecFlag = true

[node name="DisableCollisionShapeCommandOff" parent="Scenario/PushingArea_2/Timer/TimerTrigger" index="0" node_paths=PackedStringArray("Target") instance=ExtResource("6_noi0u")]
Target = NodePath("../../../CollisionShape2D")

[node name="DisableCollisionShapeCommandOn" parent="Scenario/PushingArea_2/Timer/TimerTrigger" index="1" node_paths=PackedStringArray("Target") instance=ExtResource("6_noi0u")]
Target = NodePath("../../../CollisionShape2D")
Value = true
ExecFlag = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scenario/PushingArea_2" index="1"]
shape = SubResource("RectangleShape2D_noi0u")

[node name="OffsetPositionCommand" parent="Scenario/PushingArea_2" index="2" instance=ExtResource("5_375uw")]
Value = Vector2(1, 0)

[node name="PushingArea_3" parent="Scenario" index="5" instance=ExtResource("4_jq1hl")]
position = Vector2(656, -32)
collision_layer = 0
collision_mask = 4

[node name="Timer" type="Timer" parent="Scenario/PushingArea_3" index="0"]
autostart = true

[node name="TimerTrigger" parent="Scenario/PushingArea_3/Timer" index="0" node_paths=PackedStringArray("Target") instance=ExtResource("5_2p4nk")]
Target = NodePath("../../CollisionShape2D")
SwapExecFlag = true

[node name="DisableCollisionShapeCommandOff" parent="Scenario/PushingArea_3/Timer/TimerTrigger" index="0" node_paths=PackedStringArray("Target") instance=ExtResource("6_noi0u")]
Target = NodePath("../../../CollisionShape2D")

[node name="DisableCollisionShapeCommandOn" parent="Scenario/PushingArea_3/Timer/TimerTrigger" index="1" node_paths=PackedStringArray("Target") instance=ExtResource("6_noi0u")]
Target = NodePath("../../../CollisionShape2D")
Value = true
ExecFlag = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scenario/PushingArea_3" index="1"]
shape = SubResource("RectangleShape2D_m3na8")

[node name="OffsetPositionCommand" parent="Scenario/PushingArea_3" index="2" instance=ExtResource("5_375uw")]
Value = Vector2(-1, 0)

[node name="Camera" parent="." index="10"]
visible = false
